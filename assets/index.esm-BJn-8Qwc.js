import{g as xt,R as x}from"./index-CJCEdQaw.js";var wt=typeof Element<"u",Dt=typeof Map=="function",St=typeof Set=="function",Et=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function ve(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var t,i,n;if(Array.isArray(e)){if(t=e.length,t!=r.length)return!1;for(i=t;i--!==0;)if(!ve(e[i],r[i]))return!1;return!0}var a;if(Dt&&e instanceof Map&&r instanceof Map){if(e.size!==r.size)return!1;for(a=e.entries();!(i=a.next()).done;)if(!r.has(i.value[0]))return!1;for(a=e.entries();!(i=a.next()).done;)if(!ve(i.value[1],r.get(i.value[0])))return!1;return!0}if(St&&e instanceof Set&&r instanceof Set){if(e.size!==r.size)return!1;for(a=e.entries();!(i=a.next()).done;)if(!r.has(i.value[0]))return!1;return!0}if(Et&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(r)){if(t=e.length,t!=r.length)return!1;for(i=t;i--!==0;)if(e[i]!==r[i])return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof r.valueOf=="function")return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof r.toString=="function")return e.toString()===r.toString();if(n=Object.keys(e),t=n.length,t!==Object.keys(r).length)return!1;for(i=t;i--!==0;)if(!Object.prototype.hasOwnProperty.call(r,n[i]))return!1;if(wt&&e instanceof Element)return!1;for(i=t;i--!==0;)if(!((n[i]==="_owner"||n[i]==="__v"||n[i]==="__o")&&e.$$typeof)&&!ve(e[n[i]],r[n[i]]))return!1;return!0}return e!==e&&r!==r}var kt=function(r,t){try{return ve(r,t)}catch(i){if((i.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw i}};const Qt=xt(kt);var ce=e=>e.type==="checkbox",ie=e=>e instanceof Date,R=e=>e==null;const rt=e=>typeof e=="object";var S=e=>!R(e)&&!Array.isArray(e)&&rt(e)&&!ie(e),st=e=>S(e)&&e.target?ce(e.target)?e.target.checked:e.target.value:e,Ct=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,it=(e,r)=>e.has(Ct(r)),Ot=e=>{const r=e.constructor&&e.constructor.prototype;return S(r)&&r.hasOwnProperty("isPrototypeOf")},pe=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function B(e){let r;const t=Array.isArray(e);if(e instanceof Date)r=new Date(e);else if(e instanceof Set)r=new Set(e);else if(!(pe&&(e instanceof Blob||e instanceof FileList))&&(t||S(e)))if(r=t?[]:{},!t&&!Ot(e))r=e;else for(const i in e)e.hasOwnProperty(i)&&(r[i]=B(e[i]));else return e;return r}var me=e=>Array.isArray(e)?e.filter(Boolean):[],D=e=>e===void 0,f=(e,r,t)=>{if(!r||!S(e))return t;const i=me(r.split(/[,[\].]+?/)).reduce((n,a)=>R(n)?n:n[a],e);return D(i)||i===e?D(e[r])?t:e[r]:i},I=e=>typeof e=="boolean",Te=e=>/^\w*$/.test(e),ut=e=>me(e.replace(/["|']|\]/g,"").split(/\.|\[/)),m=(e,r,t)=>{let i=-1;const n=Te(r)?[r]:ut(r),a=n.length,y=a-1;for(;++i<a;){const v=n[i];let w=t;if(i!==y){const E=e[v];w=S(E)||Array.isArray(E)?E:isNaN(+n[i+1])?{}:[]}if(v==="__proto__")return;e[v]=w,e=e[v]}return e};const _e={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},W={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Y={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},pt=x.createContext(null),Le=()=>x.useContext(pt);var nt=(e,r,t,i=!0)=>{const n={defaultValues:r._defaultValues};for(const a in e)Object.defineProperty(n,a,{get:()=>{const y=a;return r._proxyFormState[y]!==W.all&&(r._proxyFormState[y]=!i||W.all),t&&(t[y]=!0),e[y]}});return n},M=e=>S(e)&&!Object.keys(e).length,at=(e,r,t,i)=>{t(e);const{name:n,...a}=e;return M(a)||Object.keys(a).length>=Object.keys(r).length||Object.keys(a).find(y=>r[y]===(!i||W.all))},oe=e=>Array.isArray(e)?e:[e],lt=(e,r,t)=>!e||!r||e===r||oe(e).some(i=>i&&(t?i===r:i.startsWith(r)||r.startsWith(i)));function Ue(e){const r=x.useRef(e);r.current=e,x.useEffect(()=>{const t=!e.disabled&&r.current.subject&&r.current.subject.subscribe({next:r.current.next});return()=>{t&&t.unsubscribe()}},[e.disabled])}function Tt(e){const r=Le(),{control:t=r.control,disabled:i,name:n,exact:a}=e||{},[y,v]=x.useState(t._formState),w=x.useRef(!0),E=x.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),_=x.useRef(n);return _.current=n,Ue({disabled:i,next:h=>w.current&&lt(_.current,h.name,a)&&at(h,E.current,t._updateFormState)&&v({...t._formState,...h}),subject:t._subjects.state}),x.useEffect(()=>(w.current=!0,E.current.isValid&&t._updateValid(!0),()=>{w.current=!1}),[t]),nt(y,t,E.current,!1)}var $=e=>typeof e=="string",ot=(e,r,t,i,n)=>$(e)?(i&&r.watch.add(e),f(t,e,n)):Array.isArray(e)?e.map(a=>(i&&r.watch.add(a),f(t,a))):(i&&(r.watchAll=!0),t);function Lt(e){const r=Le(),{control:t=r.control,name:i,defaultValue:n,disabled:a,exact:y}=e||{},v=x.useRef(i);v.current=i,Ue({disabled:a,subject:t._subjects.values,next:_=>{lt(v.current,_.name,y)&&E(B(ot(v.current,t._names,_.values||t._formValues,!1,n)))}});const[w,E]=x.useState(t._getWatch(i,n));return x.useEffect(()=>t._removeUnmounted()),w}function Ut(e){const r=Le(),{name:t,disabled:i,control:n=r.control,shouldUnregister:a}=e,y=it(n._names.array,t),v=Lt({control:n,name:t,defaultValue:f(n._formValues,t,f(n._defaultValues,t,e.defaultValue)),exact:!0}),w=Tt({control:n,name:t,exact:!0}),E=x.useRef(n.register(t,{...e.rules,value:v,...I(e.disabled)?{disabled:e.disabled}:{}}));return x.useEffect(()=>{const _=n._options.shouldUnregister||a,h=(j,H)=>{const L=f(n._fields,j);L&&L._f&&(L._f.mount=H)};if(h(t,!0),_){const j=B(f(n._options.defaultValues,t));m(n._defaultValues,t,j),D(f(n._formValues,t))&&m(n._formValues,t,j)}return()=>{(y?_&&!n._state.action:_)?n.unregister(t):h(t,!1)}},[t,n,y,a]),x.useEffect(()=>{f(n._fields,t)&&n._updateDisabledField({disabled:i,fields:n._fields,name:t,value:f(n._fields,t)._f.value})},[i,t,n]),{field:{name:t,value:v,...I(i)||w.disabled?{disabled:w.disabled||i}:{},onChange:x.useCallback(_=>E.current.onChange({target:{value:st(_),name:t},type:_e.CHANGE}),[t]),onBlur:x.useCallback(()=>E.current.onBlur({target:{value:f(n._formValues,t),name:t},type:_e.BLUR}),[t,n]),ref:x.useCallback(_=>{const h=f(n._fields,t);h&&_&&(h._f.ref={focus:()=>_.focus(),select:()=>_.select(),setCustomValidity:j=>_.setCustomValidity(j),reportValidity:()=>_.reportValidity()})},[n._fields,t])},formState:w,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!f(w.errors,t)},isDirty:{enumerable:!0,get:()=>!!f(w.dirtyFields,t)},isTouched:{enumerable:!0,get:()=>!!f(w.touchedFields,t)},isValidating:{enumerable:!0,get:()=>!!f(w.validatingFields,t)},error:{enumerable:!0,get:()=>f(w.errors,t)}})}}const Xt=e=>e.render(Ut(e));var Rt=(e,r,t,i,n)=>r?{...t[e],types:{...t[e]&&t[e].types?t[e].types:{},[i]:n||!0}}:{},Ke=e=>({isOnSubmit:!e||e===W.onSubmit,isOnBlur:e===W.onBlur,isOnChange:e===W.onChange,isOnAll:e===W.all,isOnTouch:e===W.onTouched}),Ge=(e,r,t)=>!t&&(r.watchAll||r.watch.has(e)||[...r.watch].some(i=>e.startsWith(i)&&/^\.\w+/.test(e.slice(i.length))));const fe=(e,r,t,i)=>{for(const n of t||Object.keys(e)){const a=f(e,n);if(a){const{_f:y,...v}=a;if(y){if(y.refs&&y.refs[0]&&r(y.refs[0],n)&&!i)return!0;if(y.ref&&r(y.ref,y.name)&&!i)return!0;if(fe(v,r))break}else if(S(v)&&fe(v,r))break}}};var Bt=(e,r,t)=>{const i=oe(f(e,t));return m(i,"root",r[t]),m(e,t,i),e},Re=e=>e.type==="file",J=e=>typeof e=="function",Ve=e=>{if(!pe)return!1;const r=e?e.ownerDocument:0;return e instanceof(r&&r.defaultView?r.defaultView.HTMLElement:HTMLElement)},he=e=>$(e),Be=e=>e.type==="radio",Fe=e=>e instanceof RegExp;const Ye={value:!1,isValid:!1},Je={value:!0,isValid:!0};var ft=e=>{if(Array.isArray(e)){if(e.length>1){const r=e.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:r,isValid:!!r.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!D(e[0].attributes.value)?D(e[0].value)||e[0].value===""?Je:{value:e[0].value,isValid:!0}:Je:Ye}return Ye};const Qe={isValid:!1,value:null};var ct=e=>Array.isArray(e)?e.reduce((r,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:r,Qe):Qe;function Xe(e,r,t="validate"){if(he(e)||Array.isArray(e)&&e.every(he)||I(e)&&!e)return{type:t,message:he(e)?e:"",ref:r}}var se=e=>S(e)&&!Fe(e)?e:{value:e,message:""},Ze=async(e,r,t,i,n)=>{const{ref:a,refs:y,required:v,maxLength:w,minLength:E,min:_,max:h,pattern:j,validate:H,name:L,valueAsNumber:xe,mount:z,disabled:Q}=e._f,F=f(r,L);if(!z||Q)return{};const K=y?y[0]:a,G=V=>{i&&K.reportValidity&&(K.setCustomValidity(I(V)?"":V||""),K.reportValidity())},k={},te=Be(a),de=ce(a),Z=te||de,re=(xe||Re(a))&&D(a.value)&&D(F)||Ve(a)&&a.value===""||F===""||Array.isArray(F)&&!F.length,P=Rt.bind(null,L,t,k),ye=(V,b,C,U=Y.maxLength,q=Y.minLength)=>{const N=V?b:C;k[L]={type:V?U:q,message:N,ref:a,...P(V?U:q,N)}};if(n?!Array.isArray(F)||!F.length:v&&(!Z&&(re||R(F))||I(F)&&!F||de&&!ft(y).isValid||te&&!ct(y).isValid)){const{value:V,message:b}=he(v)?{value:!!v,message:v}:se(v);if(V&&(k[L]={type:Y.required,message:b,ref:K,...P(Y.required,b)},!t))return G(b),k}if(!re&&(!R(_)||!R(h))){let V,b;const C=se(h),U=se(_);if(!R(F)&&!isNaN(F)){const q=a.valueAsNumber||F&&+F;R(C.value)||(V=q>C.value),R(U.value)||(b=q<U.value)}else{const q=a.valueAsDate||new Date(F),N=ae=>new Date(new Date().toDateString()+" "+ae),ue=a.type=="time",ne=a.type=="week";$(C.value)&&F&&(V=ue?N(F)>N(C.value):ne?F>C.value:q>new Date(C.value)),$(U.value)&&F&&(b=ue?N(F)<N(U.value):ne?F<U.value:q<new Date(U.value))}if((V||b)&&(ye(!!V,C.message,U.message,Y.max,Y.min),!t))return G(k[L].message),k}if((w||E)&&!re&&($(F)||n&&Array.isArray(F))){const V=se(w),b=se(E),C=!R(V.value)&&F.length>+V.value,U=!R(b.value)&&F.length<+b.value;if((C||U)&&(ye(C,V.message,b.message),!t))return G(k[L].message),k}if(j&&!re&&$(F)){const{value:V,message:b}=se(j);if(Fe(V)&&!F.match(V)&&(k[L]={type:Y.pattern,message:b,ref:a,...P(Y.pattern,b)},!t))return G(b),k}if(H){if(J(H)){const V=await H(F,r),b=Xe(V,K);if(b&&(k[L]={...b,...P(Y.validate,b.message)},!t))return G(b.message),k}else if(S(H)){let V={};for(const b in H){if(!M(V)&&!t)break;const C=Xe(await H[b](F,r),K,b);C&&(V={...C,...P(b,C.message)},G(C.message),t&&(k[L]=V))}if(!M(V)&&(k[L]={ref:K,...V},!t))return k}}return G(!0),k};function Mt(e,r){const t=r.slice(0,-1).length;let i=0;for(;i<t;)e=D(e)?i++:e[r[i++]];return e}function Pt(e){for(const r in e)if(e.hasOwnProperty(r)&&!D(e[r]))return!1;return!0}function O(e,r){const t=Array.isArray(r)?r:Te(r)?[r]:ut(r),i=t.length===1?e:Mt(e,t),n=t.length-1,a=t[n];return i&&delete i[a],n!==0&&(S(i)&&M(i)||Array.isArray(i)&&Pt(i))&&O(e,t.slice(0,-1)),e}var ke=()=>{let e=[];return{get observers(){return e},next:n=>{for(const a of e)a.next&&a.next(n)},subscribe:n=>(e.push(n),{unsubscribe:()=>{e=e.filter(a=>a!==n)}}),unsubscribe:()=>{e=[]}}},be=e=>R(e)||!rt(e);function X(e,r){if(be(e)||be(r))return e===r;if(ie(e)&&ie(r))return e.getTime()===r.getTime();const t=Object.keys(e),i=Object.keys(r);if(t.length!==i.length)return!1;for(const n of t){const a=e[n];if(!i.includes(n))return!1;if(n!=="ref"){const y=r[n];if(ie(a)&&ie(y)||S(a)&&S(y)||Array.isArray(a)&&Array.isArray(y)?!X(a,y):a!==y)return!1}}return!0}var dt=e=>e.type==="select-multiple",Nt=e=>Be(e)||ce(e),Ce=e=>Ve(e)&&e.isConnected,yt=e=>{for(const r in e)if(J(e[r]))return!0;return!1};function Ae(e,r={}){const t=Array.isArray(e);if(S(e)||t)for(const i in e)Array.isArray(e[i])||S(e[i])&&!yt(e[i])?(r[i]=Array.isArray(e[i])?[]:{},Ae(e[i],r[i])):R(e[i])||(r[i]=!0);return r}function gt(e,r,t){const i=Array.isArray(e);if(S(e)||i)for(const n in e)Array.isArray(e[n])||S(e[n])&&!yt(e[n])?D(r)||be(t[n])?t[n]=Array.isArray(e[n])?Ae(e[n],[]):{...Ae(e[n])}:gt(e[n],R(r)?{}:r[n],t[n]):t[n]=!X(e[n],r[n]);return t}var ge=(e,r)=>gt(e,r,Ae(r)),vt=(e,{valueAsNumber:r,valueAsDate:t,setValueAs:i})=>D(e)?e:r?e===""?NaN:e&&+e:t&&$(e)?new Date(e):i?i(e):e;function Oe(e){const r=e.ref;if(!(e.refs?e.refs.every(t=>t.disabled):r.disabled))return Re(r)?r.files:Be(r)?ct(e.refs).value:dt(r)?[...r.selectedOptions].map(({value:t})=>t):ce(r)?ft(e.refs).value:vt(D(r.value)?e.ref.value:r.value,e)}var It=(e,r,t,i)=>{const n={};for(const a of e){const y=f(r,a);y&&m(n,a,y._f)}return{criteriaMode:t,names:[...e],fields:n,shouldUseNativeValidation:i}},le=e=>D(e)?e:Fe(e)?e.source:S(e)?Fe(e.value)?e.value.source:e.value:e;const et="AsyncFunction";var jt=e=>(!e||!e.validate)&&!!(J(e.validate)&&e.validate.constructor.name===et||S(e.validate)&&Object.values(e.validate).find(r=>r.constructor.name===et)),qt=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function tt(e,r,t){const i=f(e,t);if(i||Te(t))return{error:i,name:t};const n=t.split(".");for(;n.length;){const a=n.join("."),y=f(r,a),v=f(e,a);if(y&&!Array.isArray(y)&&t!==a)return{name:t};if(v&&v.type)return{name:a,error:v};n.pop()}return{name:t}}var Wt=(e,r,t,i,n)=>n.isOnAll?!1:!t&&n.isOnTouch?!(r||e):(t?i.isOnBlur:n.isOnBlur)?!e:(t?i.isOnChange:n.isOnChange)?e:!0,Ht=(e,r)=>!me(f(e,r)).length&&O(e,r);const $t={mode:W.onSubmit,reValidateMode:W.onChange,shouldFocusError:!0};function zt(e={}){let r={...$t,...e},t={submitCount:0,isDirty:!1,isLoading:J(r.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:r.errors||{},disabled:r.disabled||!1},i={},n=S(r.defaultValues)||S(r.values)?B(r.defaultValues||r.values)||{}:{},a=r.shouldUnregister?{}:B(n),y={action:!1,mount:!1,watch:!1},v={mount:new Set,unMount:new Set,array:new Set,watch:new Set},w,E=0;const _={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={values:ke(),array:ke(),state:ke()},j=Ke(r.mode),H=Ke(r.reValidateMode),L=r.criteriaMode===W.all,xe=s=>u=>{clearTimeout(E),E=setTimeout(s,u)},z=async s=>{if(_.isValid||s){const u=r.resolver?M((await Z()).errors):await P(i,!0);u!==t.isValid&&h.state.next({isValid:u})}},Q=(s,u)=>{(_.isValidating||_.validatingFields)&&((s||Array.from(v.mount)).forEach(l=>{l&&(u?m(t.validatingFields,l,u):O(t.validatingFields,l))}),h.state.next({validatingFields:t.validatingFields,isValidating:!M(t.validatingFields)}))},F=(s,u=[],l,d,c=!0,o=!0)=>{if(d&&l){if(y.action=!0,o&&Array.isArray(f(i,s))){const g=l(f(i,s),d.argA,d.argB);c&&m(i,s,g)}if(o&&Array.isArray(f(t.errors,s))){const g=l(f(t.errors,s),d.argA,d.argB);c&&m(t.errors,s,g),Ht(t.errors,s)}if(_.touchedFields&&o&&Array.isArray(f(t.touchedFields,s))){const g=l(f(t.touchedFields,s),d.argA,d.argB);c&&m(t.touchedFields,s,g)}_.dirtyFields&&(t.dirtyFields=ge(n,a)),h.state.next({name:s,isDirty:V(s,u),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else m(a,s,u)},K=(s,u)=>{m(t.errors,s,u),h.state.next({errors:t.errors})},G=s=>{t.errors=s,h.state.next({errors:t.errors,isValid:!1})},k=(s,u,l,d)=>{const c=f(i,s);if(c){const o=f(a,s,D(l)?f(n,s):l);D(o)||d&&d.defaultChecked||u?m(a,s,u?o:Oe(c._f)):U(s,o),y.mount&&z()}},te=(s,u,l,d,c)=>{let o=!1,g=!1;const A={name:s},p=!!(f(i,s)&&f(i,s)._f&&f(i,s)._f.disabled);if(!l||d){_.isDirty&&(g=t.isDirty,t.isDirty=A.isDirty=V(),o=g!==A.isDirty);const T=p||X(f(n,s),u);g=!!(!p&&f(t.dirtyFields,s)),T||p?O(t.dirtyFields,s):m(t.dirtyFields,s,!0),A.dirtyFields=t.dirtyFields,o=o||_.dirtyFields&&g!==!T}if(l){const T=f(t.touchedFields,s);T||(m(t.touchedFields,s,l),A.touchedFields=t.touchedFields,o=o||_.touchedFields&&T!==l)}return o&&c&&h.state.next(A),o?A:{}},de=(s,u,l,d)=>{const c=f(t.errors,s),o=_.isValid&&I(u)&&t.isValid!==u;if(e.delayError&&l?(w=xe(()=>K(s,l)),w(e.delayError)):(clearTimeout(E),w=null,l?m(t.errors,s,l):O(t.errors,s)),(l?!X(c,l):c)||!M(d)||o){const g={...d,...o&&I(u)?{isValid:u}:{},errors:t.errors,name:s};t={...t,...g},h.state.next(g)}},Z=async s=>{Q(s,!0);const u=await r.resolver(a,r.context,It(s||v.mount,i,r.criteriaMode,r.shouldUseNativeValidation));return Q(s),u},re=async s=>{const{errors:u}=await Z(s);if(s)for(const l of s){const d=f(u,l);d?m(t.errors,l,d):O(t.errors,l)}else t.errors=u;return u},P=async(s,u,l={valid:!0})=>{for(const d in s){const c=s[d];if(c){const{_f:o,...g}=c;if(o){const A=v.array.has(o.name),p=c._f&&jt(c._f);p&&_.validatingFields&&Q([d],!0);const T=await Ze(c,a,L,r.shouldUseNativeValidation&&!u,A);if(p&&_.validatingFields&&Q([d]),T[o.name]&&(l.valid=!1,u))break;!u&&(f(T,o.name)?A?Bt(t.errors,T,o.name):m(t.errors,o.name,T[o.name]):O(t.errors,o.name))}!M(g)&&await P(g,u,l)}}return l.valid},ye=()=>{for(const s of v.unMount){const u=f(i,s);u&&(u._f.refs?u._f.refs.every(l=>!Ce(l)):!Ce(u._f.ref))&&we(s)}v.unMount=new Set},V=(s,u)=>(s&&u&&m(a,s,u),!X(Me(),n)),b=(s,u,l)=>ot(s,v,{...y.mount?a:D(u)?n:$(s)?{[s]:u}:u},l,u),C=s=>me(f(y.mount?a:n,s,e.shouldUnregister?f(n,s,[]):[])),U=(s,u,l={})=>{const d=f(i,s);let c=u;if(d){const o=d._f;o&&(!o.disabled&&m(a,s,vt(u,o)),c=Ve(o.ref)&&R(u)?"":u,dt(o.ref)?[...o.ref.options].forEach(g=>g.selected=c.includes(g.value)):o.refs?ce(o.ref)?o.refs.length>1?o.refs.forEach(g=>(!g.defaultChecked||!g.disabled)&&(g.checked=Array.isArray(c)?!!c.find(A=>A===g.value):c===g.value)):o.refs[0]&&(o.refs[0].checked=!!c):o.refs.forEach(g=>g.checked=g.value===c):Re(o.ref)?o.ref.value="":(o.ref.value=c,o.ref.type||h.values.next({name:s,values:{...a}})))}(l.shouldDirty||l.shouldTouch)&&te(s,c,l.shouldTouch,l.shouldDirty,!0),l.shouldValidate&&ae(s)},q=(s,u,l)=>{for(const d in u){const c=u[d],o=`${s}.${d}`,g=f(i,o);(v.array.has(s)||!be(c)||g&&!g._f)&&!ie(c)?q(o,c,l):U(o,c,l)}},N=(s,u,l={})=>{const d=f(i,s),c=v.array.has(s),o=B(u);m(a,s,o),c?(h.array.next({name:s,values:{...a}}),(_.isDirty||_.dirtyFields)&&l.shouldDirty&&h.state.next({name:s,dirtyFields:ge(n,a),isDirty:V(s,o)})):d&&!d._f&&!R(o)?q(s,o,l):U(s,o,l),Ge(s,v)&&h.state.next({...t}),h.values.next({name:y.mount?s:void 0,values:{...a}})},ue=async s=>{y.mount=!0;const u=s.target;let l=u.name,d=!0;const c=f(i,l),o=()=>u.type?Oe(c._f):st(s),g=A=>{d=Number.isNaN(A)||X(A,f(a,l,A))};if(c){let A,p;const T=o(),ee=s.type===_e.BLUR||s.type===_e.FOCUS_OUT,bt=!qt(c._f)&&!r.resolver&&!f(t.errors,l)&&!c._f.deps||Wt(ee,f(t.touchedFields,l),t.isSubmitted,H,j),Se=Ge(l,v,ee);m(a,l,T),ee?(c._f.onBlur&&c._f.onBlur(s),w&&w(0)):c._f.onChange&&c._f.onChange(s);const Ee=te(l,T,ee,!1),At=!M(Ee)||Se;if(!ee&&h.values.next({name:l,type:s.type,values:{...a}}),bt)return _.isValid&&(e.mode==="onBlur"?ee&&z():z()),At&&h.state.next({name:l,...Se?{}:Ee});if(!ee&&Se&&h.state.next({...t}),r.resolver){const{errors:$e}=await Z([l]);if(g(T),d){const mt=tt(t.errors,i,l),ze=tt($e,i,mt.name||l);A=ze.error,l=ze.name,p=M($e)}}else Q([l],!0),A=(await Ze(c,a,L,r.shouldUseNativeValidation))[l],Q([l]),g(T),d&&(A?p=!1:_.isValid&&(p=await P(i,!0)));d&&(c._f.deps&&ae(c._f.deps),de(l,p,A,Ee))}},ne=(s,u)=>{if(f(t.errors,u)&&s.focus)return s.focus(),1},ae=async(s,u={})=>{let l,d;const c=oe(s);if(r.resolver){const o=await re(D(s)?s:c);l=M(o),d=s?!c.some(g=>f(o,g)):l}else s?(d=(await Promise.all(c.map(async o=>{const g=f(i,o);return await P(g&&g._f?{[o]:g}:g)}))).every(Boolean),!(!d&&!t.isValid)&&z()):d=l=await P(i);return h.state.next({...!$(s)||_.isValid&&l!==t.isValid?{}:{name:s},...r.resolver||!s?{isValid:l}:{},errors:t.errors}),u.shouldFocus&&!d&&fe(i,ne,s?c:v.mount),d},Me=s=>{const u={...y.mount?a:n};return D(s)?u:$(s)?f(u,s):s.map(l=>f(u,l))},Pe=(s,u)=>({invalid:!!f((u||t).errors,s),isDirty:!!f((u||t).dirtyFields,s),error:f((u||t).errors,s),isValidating:!!f(t.validatingFields,s),isTouched:!!f((u||t).touchedFields,s)}),ht=s=>{s&&oe(s).forEach(u=>O(t.errors,u)),h.state.next({errors:s?t.errors:{}})},Ne=(s,u,l)=>{const d=(f(i,s,{_f:{}})._f||{}).ref,c=f(t.errors,s)||{},{ref:o,message:g,type:A,...p}=c;m(t.errors,s,{...p,...u,ref:d}),h.state.next({name:s,errors:t.errors,isValid:!1}),l&&l.shouldFocus&&d&&d.focus&&d.focus()},_t=(s,u)=>J(s)?h.values.subscribe({next:l=>s(b(void 0,u),l)}):b(s,u,!0),we=(s,u={})=>{for(const l of s?oe(s):v.mount)v.mount.delete(l),v.array.delete(l),u.keepValue||(O(i,l),O(a,l)),!u.keepError&&O(t.errors,l),!u.keepDirty&&O(t.dirtyFields,l),!u.keepTouched&&O(t.touchedFields,l),!u.keepIsValidating&&O(t.validatingFields,l),!r.shouldUnregister&&!u.keepDefaultValue&&O(n,l);h.values.next({values:{...a}}),h.state.next({...t,...u.keepDirty?{isDirty:V()}:{}}),!u.keepIsValid&&z()},Ie=({disabled:s,name:u,field:l,fields:d,value:c})=>{if(I(s)&&y.mount||s){const o=s?void 0:D(c)?Oe(l?l._f:f(d,u)._f):c;m(a,u,o),te(u,o,!1,!1,!0)}},De=(s,u={})=>{let l=f(i,s);const d=I(u.disabled)||I(e.disabled);return m(i,s,{...l||{},_f:{...l&&l._f?l._f:{ref:{name:s}},name:s,mount:!0,...u}}),v.mount.add(s),l?Ie({field:l,disabled:I(u.disabled)?u.disabled:e.disabled,name:s,value:u.value}):k(s,!0,u.value),{...d?{disabled:u.disabled||e.disabled}:{},...r.progressive?{required:!!u.required,min:le(u.min),max:le(u.max),minLength:le(u.minLength),maxLength:le(u.maxLength),pattern:le(u.pattern)}:{},name:s,onChange:ue,onBlur:ue,ref:c=>{if(c){De(s,u),l=f(i,s);const o=D(c.value)&&c.querySelectorAll&&c.querySelectorAll("input,select,textarea")[0]||c,g=Nt(o),A=l._f.refs||[];if(g?A.find(p=>p===o):o===l._f.ref)return;m(i,s,{_f:{...l._f,...g?{refs:[...A.filter(Ce),o,...Array.isArray(f(n,s))?[{}]:[]],ref:{type:o.type,name:s}}:{ref:o}}}),k(s,!1,void 0,o)}else l=f(i,s,{}),l._f&&(l._f.mount=!1),(r.shouldUnregister||u.shouldUnregister)&&!(it(v.array,s)&&y.action)&&v.unMount.add(s)}}},je=()=>r.shouldFocusError&&fe(i,ne,v.mount),Vt=s=>{I(s)&&(h.state.next({disabled:s}),fe(i,(u,l)=>{const d=f(i,l);d&&(u.disabled=d._f.disabled||s,Array.isArray(d._f.refs)&&d._f.refs.forEach(c=>{c.disabled=d._f.disabled||s}))},0,!1))},qe=(s,u)=>async l=>{let d;l&&(l.preventDefault&&l.preventDefault(),l.persist&&l.persist());let c=B(a);if(h.state.next({isSubmitting:!0}),r.resolver){const{errors:o,values:g}=await Z();t.errors=o,c=g}else await P(i);if(O(t.errors,"root"),M(t.errors)){h.state.next({errors:{}});try{await s(c,l)}catch(o){d=o}}else u&&await u({...t.errors},l),je(),setTimeout(je);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:M(t.errors)&&!d,submitCount:t.submitCount+1,errors:t.errors}),d)throw d},Ft=(s,u={})=>{f(i,s)&&(D(u.defaultValue)?N(s,B(f(n,s))):(N(s,u.defaultValue),m(n,s,B(u.defaultValue))),u.keepTouched||O(t.touchedFields,s),u.keepDirty||(O(t.dirtyFields,s),t.isDirty=u.defaultValue?V(s,B(f(n,s))):V()),u.keepError||(O(t.errors,s),_.isValid&&z()),h.state.next({...t}))},We=(s,u={})=>{const l=s?B(s):n,d=B(l),c=M(s),o=c?n:d;if(u.keepDefaultValues||(n=l),!u.keepValues){if(u.keepDirtyValues)for(const g of v.mount)f(t.dirtyFields,g)?m(o,g,f(a,g)):N(g,f(o,g));else{if(pe&&D(s))for(const g of v.mount){const A=f(i,g);if(A&&A._f){const p=Array.isArray(A._f.refs)?A._f.refs[0]:A._f.ref;if(Ve(p)){const T=p.closest("form");if(T){T.reset();break}}}}i={}}a=e.shouldUnregister?u.keepDefaultValues?B(n):{}:B(o),h.array.next({values:{...o}}),h.values.next({values:{...o}})}v={mount:u.keepDirtyValues?v.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},y.mount=!_.isValid||!!u.keepIsValid||!!u.keepDirtyValues,y.watch=!!e.shouldUnregister,h.state.next({submitCount:u.keepSubmitCount?t.submitCount:0,isDirty:c?!1:u.keepDirty?t.isDirty:!!(u.keepDefaultValues&&!X(s,n)),isSubmitted:u.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:c?{}:u.keepDirtyValues?u.keepDefaultValues&&a?ge(n,a):t.dirtyFields:u.keepDefaultValues&&s?ge(n,s):u.keepDirty?t.dirtyFields:{},touchedFields:u.keepTouched?t.touchedFields:{},errors:u.keepErrors?t.errors:{},isSubmitSuccessful:u.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1})},He=(s,u)=>We(J(s)?s(a):s,u);return{control:{register:De,unregister:we,getFieldState:Pe,handleSubmit:qe,setError:Ne,_executeSchema:Z,_getWatch:b,_getDirty:V,_updateValid:z,_removeUnmounted:ye,_updateFieldArray:F,_updateDisabledField:Ie,_getFieldArray:C,_reset:We,_resetDefaultValues:()=>J(r.defaultValues)&&r.defaultValues().then(s=>{He(s,r.resetOptions),h.state.next({isLoading:!1})}),_updateFormState:s=>{t={...t,...s}},_disableForm:Vt,_subjects:h,_proxyFormState:_,_setErrors:G,get _fields(){return i},get _formValues(){return a},get _state(){return y},set _state(s){y=s},get _defaultValues(){return n},get _names(){return v},set _names(s){v=s},get _formState(){return t},set _formState(s){t=s},get _options(){return r},set _options(s){r={...r,...s}}},trigger:ae,register:De,handleSubmit:qe,watch:_t,setValue:N,getValues:Me,reset:He,resetField:Ft,clearErrors:ht,unregister:we,setError:Ne,setFocus:(s,u={})=>{const l=f(i,s),d=l&&l._f;if(d){const c=d.refs?d.refs[0]:d.ref;c.focus&&(c.focus(),u.shouldSelect&&c.select())}},getFieldState:Pe}}function Zt(e={}){const r=x.useRef(),t=x.useRef(),[i,n]=x.useState({isDirty:!1,isValidating:!1,isLoading:J(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:J(e.defaultValues)?void 0:e.defaultValues});r.current||(r.current={...zt(e),formState:i});const a=r.current.control;return a._options=e,Ue({subject:a._subjects.state,next:y=>{at(y,a._proxyFormState,a._updateFormState,!0)&&n({...a._formState})}}),x.useEffect(()=>a._disableForm(e.disabled),[a,e.disabled]),x.useEffect(()=>{if(a._proxyFormState.isDirty){const y=a._getDirty();y!==i.isDirty&&a._subjects.state.next({isDirty:y})}},[a,i.isDirty]),x.useEffect(()=>{e.values&&!X(e.values,t.current)?(a._reset(e.values,a._options.resetOptions),t.current=e.values,n(y=>({...y}))):a._resetDefaultValues()},[e.values,a]),x.useEffect(()=>{e.errors&&a._setErrors(e.errors)},[e.errors,a]),x.useEffect(()=>{a._state.mount||(a._updateValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),x.useEffect(()=>{e.shouldUnregister&&a._subjects.values.next({values:a._getWatch()})},[e.shouldUnregister,a]),r.current.formState=nt(i,a),r.current}export{Xt as C,Rt as a,f as g,Qt as i,m as s,Zt as u};
