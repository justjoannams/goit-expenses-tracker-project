import{a as y,u as r,i as T,r as d,s as L,h as E,j as s,N as M,F as S,M as P,k,Q as v}from"./index-CJCEdQaw.js";import{s as C,a as F,M as w,D as V,b as $,H,P as b,U as A,L as h,c as N,F as O,d as U,S as B,T as R,e as W,f as _,g as q,h as G,i as Q,j as z,E as J,k as K,l as X}from"./Income.styled-Dkh26lbx.js";import{s as Y,T as Z,O as ss}from"./selectors-D-yYOAhn.js";import{T as es,s as x}from"./TotalIncome-EI6TYk5N.js";import"./index.esm-BJn-8Qwc.js";const ls=()=>{const i=y(),l=r(C),{isOpened:j,openModal:m,closeModal:o}=T(),[u,g]=d.useState(""),p=r(L),f=r(Y),a=r(F),c=`${a.year}-${String(a.month).padStart(2,"0")}-${String(a.day).padStart(2,"0")}`;d.useEffect(()=>{i(E({type:"incomes",date:c}))},[i,l,c,a]);const D=(e,n)=>{i(k(e)),v.success(`Transaction ${n} was deleted`)},t=f.filter(e=>e.comment.toLowerCase().trim().includes(l.toLowerCase().trim()));if(!p)return s.jsx(M,{to:"/login"});const I=e=>e||"Deleted Category";return s.jsxs(w,{children:[s.jsxs(V,{children:[s.jsxs($,{children:[s.jsx(H,{children:"All Income"}),s.jsx(b,{children:"Track and celebrate every bit of earnings effortlessly! Gain insights into your total revenue in a snap."})]}),s.jsxs(A,{children:[s.jsx(h,{children:s.jsx(es,{})}),s.jsx(h,{children:s.jsx(Z,{})})]})]}),s.jsx(S,{$variant:"allIncomesList",children:s.jsxs(N,{children:[s.jsx(O,{}),s.jsxs(U,{children:[s.jsx(B,{}),t!=null&&t.length?s.jsx(R,{children:t==null?void 0:t.map(e=>{var n;return s.jsxs(W,{children:[s.jsx(_,{children:I((n=e.category)==null?void 0:n.categoryName)}),s.jsx(q,{children:e.comment}),s.jsx(G,{children:e.date}),s.jsx(Q,{children:e.time}),s.jsxs(z,{children:[e.sum," / UAH"]}),s.jsxs(J,{onClick:()=>{g(e),m()},children:[s.jsx("svg",{width:16,height:16,children:s.jsx("use",{href:x+"#icon-edit-2"})}),s.jsx("span",{children:"Edit"})]}),s.jsxs(K,{onClick:()=>D(e._id,e.comment),children:[s.jsx("svg",{width:16,height:16,children:s.jsx("use",{href:x+"#icon-trash-2"})}),s.jsx("span",{children:"Delete"})]})]},e._id)})}):null,l.trim().length>0&&!t.length&&s.jsx(X,{children:"We couldn't find any transactions matching your request."})]})]})}),j?s.jsx(P,{children:s.jsx(ss,{edit:!0,editData:u,closeModal:o}),closeModal:o}):null]})};export{ls as Income,ls as default};
