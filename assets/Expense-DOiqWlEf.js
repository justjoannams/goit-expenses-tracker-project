import{a as y,u as r,i as I,r as o,s as T,h as L,j as s,N as M,F as S,M as P,k as C,Q as k}from"./index-CJCEdQaw.js";import{s as v,a as w,M as F,D as V,b as $,H,P as N,U as O,L as h,c as A,F as B,d as R,S as U,T as W,e as _,f as b,g as q,h as Q,i as Y,j as z,E as G,k as J,l as K}from"./Income.styled-Dkh26lbx.js";import{s as X,T as Z,O as ss}from"./selectors-D-yYOAhn.js";import{T as es,s as x}from"./TotalIncome-EI6TYk5N.js";import"./index.esm-BJn-8Qwc.js";const ls=()=>{const i=y(),l=r(v),{isOpened:j,openModal:m,closeModal:c}=I(),[p,u]=o.useState(""),g=r(T),D=r(X),a=r(w),d=`${a.year}-${String(a.month).padStart(2,"0")}-${String(a.day).padStart(2,"0")}`;o.useEffect(()=>{i(L({type:"expenses",date:d}))},[i,l,d,a]);const f=(e,n)=>{i(C(e)),k.success(`Transaction ${n} was deleted`)},t=D.filter(e=>e.comment.toLowerCase().trim().includes(l.toLowerCase().trim()));if(!g)return s.jsx(M,{to:"/login"});const E=e=>e||"Deleted Category";return s.jsxs(F,{children:[s.jsxs(V,{children:[s.jsxs($,{children:[s.jsx(H,{children:"All Expense"}),s.jsx(N,{children:"View and manage every transaction seamlessly! Your entire financial landscape, all in one place."})]}),s.jsxs(O,{children:[s.jsx(h,{children:s.jsx(es,{})}),s.jsx(h,{children:s.jsx(Z,{})})]})]}),s.jsx(S,{$variant:"allExpensesList",children:s.jsxs(A,{children:[s.jsx(B,{}),s.jsxs(R,{children:[s.jsx(U,{}),t!=null&&t.length?s.jsx(W,{children:t==null?void 0:t.map(e=>{var n;return s.jsxs(_,{children:[s.jsx(b,{children:E((n=e.category)==null?void 0:n.categoryName)}),s.jsx(q,{children:e.comment}),s.jsx(Q,{children:e.date}),s.jsx(Y,{children:e.time}),s.jsx(z,{children:e.sum}),s.jsxs(G,{onClick:()=>{u(e),m()},children:[s.jsx("svg",{width:16,height:16,children:s.jsx("use",{href:x+"#icon-edit-2"})}),s.jsx("span",{children:"Edit"})]}),s.jsxs(J,{onClick:()=>f(e._id,e.comment),children:[s.jsx("svg",{width:16,height:16,children:s.jsx("use",{href:x+"#icon-trash-2"})}),s.jsx("span",{children:"Delete"})]})]},e._id)})}):null,l.trim().length>0&&!t.length&&s.jsx(K,{children:"We couldn't find any transactions matching your request."})]})]})}),j?s.jsx(P,{children:s.jsx(ss,{editData:p,closeModal:c}),closeModal:c}):null]})};export{ls as default};
