import{a as S,r as c,j as s,L as f,b as y,Q as p,u as m,s as I,c as b,N as L}from"./index-CJCEdQaw.js";import{W as E,S as h,E as l,a as W,b as T,c as C,P as k,d as H,e as R,B as D,L as F,f as N,H as V,g as $,h as q,i as A,T as B,I as M,j as G,k as U}from"./Register.styled-CVdOxfkZ.js";import{u as Q}from"./index.esm-BJn-8Qwc.js";import{T as Y}from"./TotalIncome-EI6TYk5N.js";import{A as z,h as J,a as K}from"./Rectangle 1x-B-IuR9L4.js";const O=()=>{const r=S(),{handleSubmit:t,register:n,setValue:u,formState:{errors:e}}=Q(),g=o=>{r(y(o)).unwrap().catch(i=>{p.error("Invalid email or email already exists in the database")})},[d,x]=c.useState(!1),j=()=>{x(!d)},[a,w]=c.useState(""),P=()=>a.length>=6&&!e.password,v=o=>{const i=o.target.value;w(i),u("password",i)};return s.jsx("form",{onSubmit:t(g),children:s.jsxs(E,{children:[s.jsxs("div",{children:[s.jsx(h,{...n("name",{required:"Please provide your name",minLength:{value:3,message:"Please enter a name with at least 3 characters"}}),type:"text",placeholder:"Name",autoComplete:"new-name"}),e.name&&s.jsx(l,{children:e.name.message})]}),s.jsxs("div",{children:[s.jsx(h,{defaultValue:"",...n("email",{required:"Please provide your email",minLength:{value:3,message:"Ensure your email is at least 3 characters long"}}),type:"email",placeholder:"Email",autoComplete:"new-email"}),e.email&&s.jsx(l,{children:e.email.message})]}),s.jsxs(W,{children:[s.jsxs(T,{children:[s.jsx(C,{...n("password",{required:"Enter a valid Password",minLength:{value:6,message:"Make sure your password is at least 6 characters long"}}),type:d?"text":"password",placeholder:"Password",autoComplete:"new-password",onChange:v,className:`${a.length===0?"empty":P()?"valid":"invalid"}`}),s.jsx(k,{onClick:j,type:"button"})]}),e.password&&a.length===0&&s.jsx(l,{children:e.password.message}),a.length>0&&s.jsx(H,{$isGood:a.length>=6,children:a.length>=6?"Good password":"Short password"})]}),s.jsx(R,{children:s.jsx(D,{children:"Sign up"})}),s.jsxs(F,{children:[s.jsx("p",{children:"Have an account already? "}),s.jsxs(f,{to:"/login",children:[" ",s.jsx(N,{children:"Log in now"})]})]})]})})},X=O;function rs(){const r=m(I),{name:t}=m(b);return r?(p.success(`Welcome, ${t}`),s.jsx(L,{to:"/transactions/expenses"})):s.jsx(V,{children:s.jsxs("div",{children:[s.jsx($,{children:s.jsx("title",{children:"Registration"})}),s.jsx(z,{children:s.jsxs(q,{children:[s.jsxs(A,{children:[s.jsx(B,{children:!r&&s.jsx(Y,{})}),s.jsx(M,{src:J,alt:"Main "})]}),s.jsxs(G,{children:[s.jsx(K,{children:"Sign Up"}),s.jsx(U,{children:"Step into a world of hassle-free expense management! Your journey towards financial mastery begins here."}),s.jsx(X,{})]})]})})]})})}export{rs as default};
